# -----------------------------------------------------------------------
# [y] hybris Platform
#
# Copyright (c) 2017 SAP SE or an SAP affiliate company.  All rights reserved.
#
# This software is the confidential and proprietary information of SAP
# ("Confidential Information"). You shall not disclose such Confidential
# Information and shall use it only in accordance with the terms of the
# license agreement you entered into with SAP.
# -----------------------------------------------------------------------
# you can put key/value pairs here.
# Use Config.getParameter(..) to retrieve the values during runtime.


# Specifies the location of the spring context file putted automatically to the global platform application context.
siteonecore.application-context=siteonecore-spring.xml

siteonecore.global-context=siteone-storedirectory-cache-spring.xml,siteonecore-navigation-cache-spring.xml,siteonestore-cache-spring.xml,siteoneproduct-cache-spring.xml,siteoneprice-cache-spring.xml,siteonemedia-cache-spring.xml,siteonecategory-cache-spring.xml,categoryproductcountcacheregion-spring.xml,siteonefeatureswitchcacheregion-spring.xml,storebysupplychainnodeIdcacheregion-spring.xml,siteoneuomrewriteconfig-cache-spring.xml,siteoneautophraseconfig-cache-spring.xml



# PaymentInfo validates that the card number is plausible.
# Setting paymentinfo.creditcard.checknumber=false will prevent PaymentInfo.createItem()
# from throwing an exception if the card number is invalid.
paymentinfo.creditcard.checknumber=false


# Change the limit on the number of facet values returned per facet.
# This needs to be greater than the number of categories in the system.
facet.limit.default=1000

# Import config properties into impex macros  for modulegen
jarResourceCmsValue=jar:com.siteone.core.setup.CoreSystemSetup&/siteonecore/import/cockpits/cmscockpit
jarResource=jar:com.siteone.core.setup.CoreSystemSetup&/siteonecore/import/common/
emailResourceValue=jar:com.siteone.core.setup.CoreSystemSetup&/siteonecore/import/emails
emailContextPackageName=com.siteone.facades.process.email.context

# Import config properties into impex macros for solr
solr.server.mode=standalone

#Migration | Code Adaptation | Query Change
siteone.category.product.count.query=SELECT DISTINCT {P.PK} FROM {PRODUCT! AS P}, {CATEGORYPRODUCTRELATION AS CPR} WHERE {CPR.TARGET} = {P.PK} AND {CPR.SOURCE} IN({{SELECT {CT.PK} FROM {CATEGORY AS CT} WHERE {CT.CODE} = ?categoryCode AND {CT.CATALOGVERSION} = ?catalogVersion}} UNION {{SELECT {CCR.TARGET} FROM {CATEGORYCATEGORYRELATION AS CCR}, {CATEGORY AS CT} WHERE {CT.CODE} = ?categoryCode AND {CT.CATALOGVERSION} = ?catalogVersion AND {CT.PK} = {CCR.SOURCE}}} UNION {{SELECT {CCR1.TARGET} FROM {CATEGORYCATEGORYRELATION AS CCR}, {CATEGORY AS CT}, {CATEGORYCATEGORYRELATION AS CCR1} WHERE {CCR.TARGET} = {CCR1.SOURCE} AND {CT.CODE} = ?categoryCode AND {CT.CATALOGVERSION} = ?catalogVersion AND {CT.PK} = {CCR.SOURCE}}} UNION {{SELECT {CCR2.TARGET} FROM {CATEGORYCATEGORYRELATION AS CCR}, {CATEGORY AS CT}, {CATEGORYCATEGORYRELATION AS CCR1}, {CATEGORYCATEGORYRELATION AS CCR2} WHERE {CCR.TARGET} = {CCR1.SOURCE} AND {CCR1.TARGET} = {CCR2.SOURCE} AND {CT.CODE} = ?categoryCode AND {CT.CATALOGVERSION} = ?catalogVersion AND {CT.PK} = {CCR.SOURCE}}}) AND {P.PK} IN ({{SELECT {Base.PK} FROM {Product! as Base} WHERE {Base.PK} IN ({{ SELECT {Variant.baseProduct} AS basePK FROM {GenericVariantProduct as Variant} WHERE {Variant.isProductOffline} = '0' AND {Variant.isProductDiscontinued} = '0' }}) AND {Base.isProductOffline} = '0' AND {Base.isProductDiscontinued} = '0' }} UNION ({{ SELECT {PK} FROM {Product!} where {variantType} IS NULL AND {isProductOffline} = '0' AND {isProductDiscontinued} = '0' }})) 


#Migration Code Adaptation
#category.product.count.cache.size=10000
category.product.count.cache.eviction.policy=LFU
category.product.count.cache.stats.enabled=true
category.product.count.cache.exclusivecomputation=false
category.product.count.cache.ttl.seconds=28800

#Migration Code Adaptation
#store.by.nodeid.cache.size=10000
store.by.nodeid.cache.eviction.policy=LFU
store.by.nodeid.cache.stats.enabled=true
store.by.nodeid.cache.exclusivecomputation=false
store.by.nodeid.cache.ttl.seconds=28800

#Kount
migration.mode.enabled=true